CREATE TABLE "Addresses"(
	"ADR_Id" INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1) NOT NULL, 
	"ADR_Street" VARCHAR(50) NOT NULL,
	"ADR_PostalCode" VARCHAR(50),
	"ADR_City" VARCHAR(50) NOT NULL,
	"ADR_IsMain" BOOLEAN NOT NULL,
	"COU_Id" INTEGER NOT NULL,
	"CUS_Id" INTEGER NOT NULL);

ALTER TABLE "Addresses" ADD CONSTRAINT "PK_Addresses" PRIMARY KEY ("ADR_Id");

CREATE TABLE "Countries" (
	"COU_Id" INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1) NOT NULL,
	"COU_Name" VARCHAR(50) NOT NULL);

ALTER TABLE "Countries" ADD CONSTRAINT "PK_Countries" PRIMARY KEY ("COU_Id");
ALTER TABLE "Countries" ADD CONSTRAINT "UQ_Countries_Name" UNIQUE ("COU_Name");

CREATE TABLE "Customers" (
  "CUS_Id" INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1) NOT NULL,
  "CUS_FirstName" VARCHAR(50) NOT NULL,
  "CUS_LastName" VARCHAR(50) NOT NULL,
  "CUS_Email" VARCHAR(50) NOT NULL,
  "CUS_CreationDate" TIMESTAMP NOT NULL);

ALTER TABLE "Addresses" ADD CONSTRAINT "FK_Addresses_Countries" FOREIGN KEY ("COU_Id") REFERENCES "Countries" ("COU_Id");
ALTER TABLE "Addresses" ADD CONSTRAINT "FK_Addresses_Customers" FOREIGN KEY ("CUS_Id") REFERENCES "Customers" ("CUS_Id");
